# 游戏设计文档 - 核心系统与数值平衡

**文档类型**: 设计参考手册  
**版本**: v1.0 (基于P3实验性功能实施)  
**说明**: 本文档整合了游戏核心玩法系统、实验性功能以及关键数值配置，反映了最新的代码实现状态。

---
---

## 1. 核心玩法系统

### 1.1 连击系统 (ComboSystem)
- **机制**: 连续击杀敌人积累连击数，5秒内未击杀则清零
- **奖励阶梯**:
  - 10连击: 伤害×1.2, 得分×1.5
  - 25连击: 伤害×1.5, 得分×2.0
  - 50连击: 伤害×2.0, 得分×3.0
  - 100连击: 狂暴模式(伤害×3.0, 得分×5.0)
- **视觉反馈**: 连击数字显示、进度条、倍率显示及颜色变化

### 1.2 武器组合技系统 (WeaponSynergySystem)
- **机制**: 装备特定武器组合时激活协同效应
- **组合技类型**:
  - LASER + TESLA: 电磁折射 - 激光命中15%触发连锁闪电
  - WAVE + PLASMA: 能量共鸣 - WAVE穿过爆炸区伤害+50%
  - MISSILE + VULCAN: 弹幕覆盖 - 目标同时被命中时MISSILE伤害+30%
  - MAGMA + SHURIKEN: 熔火飞刃 - 反弹时附加灼烧效果
  - TESLA + PLASMA: 等离子风暴 - 爆炸范围内额外触发3道闪电

### 1.3 环境机制系统 (EnvironmentSystem)
- **机制**: 特定关卡引入环境元素增加战术深度
- **环境类型**:
  - 第3关: 障碍物 - 屏幕中部2-3个可摧毁障碍,阻挡双方子弹
  - 第5关: 能量风暴 - 每20秒出现能量带,进入减速30%
  - 第7关: 陨石雨 - 随机降落陨石,20伤害但可击碎获分
  - 第9关: 重力场 - 左右交替重力场,玩家被拉向一侧

### 1.4 Boss阶段系统 (BossPhaseSystem)
- **机制**: Boss根据血量进入不同战斗阶段，属性倍率随之变化
- **阶段设计**:
  - DESTROYER: 三阶段战 (×1.0 → ×1.3 → ×1.5)
  - TITAN: 三阶段战 (×1.0 → ×1.5 → ×2.0射速)
  - APOCALYPSE: 四阶段战 (×1.0 → ×1.3 → ×1.6 → ×2.0)

---

## 2. P3实验性功能

### 2.1 动态难度系统 (DifficultySystem)
- **机制**: 根据玩家表现实时调整游戏难度
- **难度等级**:
  - EASY: 敌人生成-10%, 精英概率+10%, 道具掉落+20%, 得分+20%
  - NORMAL: 标准配置
  - HARD: 敌人生成+15%, 精英概率-5%, 敌人血量+20%, 得分-20%
- **评估维度**: 生命值百分比、平均武器等级、连击数、关卡用时

### 2.2 精英AI行为系统 (EliteAISystem)
- **机制**: 精英敌人具备专属AI行为模式
- **行为类型**:
  - TANK护卫阵型: 生成2个护卫敌人同步移动
  - FAST能量轨迹: 移动时留下轨迹点，延时发射追踪弹
  - KAMIKAZE狂暴冲刺: 血量≤30%时速度×1.5并直线冲刺
  - LASER_INTERCEPTOR快速蓄力: 激光蓄力时间减半
  - FORTRESS重力场: 每5秒发射重力场球体，影响玩家移动和子弹速度

### 2.3 Boss移动模式扩展
- **机制**: 扩展Boss移动模式库，增强战斗多样性
- **新增模式**:
  - ZIGZAG (之字形): 横向高频摆动，难以预测位置
  - RANDOM_TELEPORT (随机瞬移): 每3秒随机传送位置
  - CIRCLE (圆形轨迹): 绕中心点做椭圆运动
  - SLOW_DESCENT (缓慢下沉): 逐渐向下移动压缩玩家空间
  - ADAPTIVE (自适应追踪): 根据距离调整追踪强度

---

## 3. 数值配置

### 3.1 玩家配置
```
主角: Neon Raiden (霓虹雷电)
基础属性:
  生命值: 100
  基础最大生命值: 120
  基础最大护盾: 50 (动态上限)
  初始炸弹: 3 / 最大9个
  速度: 7 (单位/帧)
武器装备:
  初始武器: VULCAN(散弹枪)
  最高升级: 9级
  可携带数: 5种武器同时装备
```

### 3.2 武器配置总表
| 武器 | 中文名 | 基础伤害 | 伤害/级 | 射速(ms) | 射速/级 | 子弹速度 | 特性 |
|------|-------|--------|--------|---------|--------|---------|------|
| VULCAN | 散弹枪 | 8 | +3 | 100 | +2 | 15 | 扇形覆盖广 |
| LASER | 激光炮 | 8 | +3 | 120 | +0 | 25 | 穿透敌人 |
| MISSILE | 追踪导弹 | 15 | +6 | 350 | +15 | 15 | 自动追踪 |
| WAVE | 波动炮 | 20 | +6 | 400 | +20 | 12 | 宽幅穿透 |
| PLASMA | 等离子炮 | 60 | +15 | 600 | +20 | 8 | 爆炸范围伤害 |
| TESLA | 电磁炮 | 15 | +4 | 200 | +10 | 25 | 连锁攻击 |
| MAGMA | 熔岩弹 | 10 | +2 | 200 | +0 | 12 | 灼烧效果 |
| SHURIKEN | 手里剑 | 12 | +3 | 300 | +30 | 12 | 可反弹 |

### 3.3 敌人配置总表
| 敌人类型 | 中文名 | 基础血量 | 血量/级 | 基础速度 | 速度/级 | 尺寸(px) | 得分 | 射击方式 |
|---------|-------|--------|--------|---------|--------|---------|------|---------|
| NORMAL | 红色无人机 | 20 | +10 | 2.0 | +0.5 | 40×40 | 100 | 散弹 |
| FAST | 紫色飞翼 | 10 | +2 | 8.0 | +0.5 | 30×40 | 200 | 散弹 |
| TANK | 绿色重坦 | 60 | +20 | 1.0 | +0 | 60×60 | 300 | 散弹 |
| KAMIKAZE | 橙色尖刺 | 5 | +1 | 10.0 | +0.8 | 30×30 | 400 | 散弹 |
| ELITE_GUNBOAT | 蓝色炮舰 | 150 | +30 | 0.5 | +0 | 70×50 | 500 | 快速弹 |
| LASER_INTERCEPTOR | 激光拦截机 | 80 | +15 | 4.0 | +0 | 50×50 | 600 | 激光束 |
| MINE_LAYER | 布雷机 | 120 | +20 | 1.5 | +0 | 60×40 | 700 | 重型弹 |
| PULSAR | 脉冲机 | 15 | +5 | 6.0 | +0.5 | 32×32 | 250 | 快速弹 |
| FORTRESS | 堡垒机 | 200 | +40 | 0.8 | +0 | 70×70 | 800 | 散弹 |
| STALKER | 追踪机 | 30 | +10 | 5.0 | +0.5 | 36×36 | 350 | 追踪弹 |
| BARRAGE | 弹幕机 | 100 | +20 | 1.2 | +0.1 | 50×50 | 600 | 螺旋弹 |

### 3.4 Boss配置总表
| 关 | Boss名 | 中文名 | 血量(HP) | 速度 | 尺寸 | 子弹数 | 射速 | 弹幕密度/帧 | 得分 |
|----|--------|-------|--------|------|-----|-------|------|-----------|------|
| 1 | GUARDIAN | 守护者 | 1800 | 1.2 | 180 | 8 | 0.06 | 0.48 | 5000 |
| 2 | INTERCEPTOR | 拦截者 | 2400 | 2.0 | 200 | 10 | 0.08 | 0.80 | 10000 |
| 3 | DESTROYER | 毁灭者 | 3200 | 0.8 | 220 | 24 | 0.04 | 0.96 | 15000 |
| 4 | ANNIHILATOR | 歼灭者 | 4000 | 1.5 | 240 | 15 | 0.06 | 0.90 | 20000 |
| 5 | DOMINATOR | 主宰者 | 5500 | 1.3 | 260 | 18 | 0.07 | 1.26 | 25000 |
| 6 | OVERLORD | 霸主 | 7800 | 1.8 | 280 | 18 | 0.07 | 1.26 | 30000 |
| 7 | TITAN | 泰坦 | 10500 | 1.0 | 300 | 20 | 0.065 | 1.30 | 35000 |
| 8 | COLOSSUS | 巨像 | 9500 | 2.2 | 320 | 20 | 0.07 | 1.40 | 40000 |
| 9 | LEVIATHAN | 利维坦 | 12000 | 1.6 | 340 | 22 | 0.08 | 1.76 | 45000 |
| 10 | APOCALYPSE | 天启 | 16000 | 2.3 | 360 | 26 | 0.09 | 2.34 | 50000 |

### 3.5 道具掉落配置
| 道具 | 掉落率 | 说明 |
|-----|-------|------|
| POWER(力量) | 20% | 增加所有武器伤害 |
| HP(生命) | 18% | 恢复30点生命值 |
| VULCAN | 10% | 获得/升级散弹枪 |
| LASER | 10% | 获得/升级激光炮 |
| MISSILE | 10% | 获得/升级追踪导弹 |
| SHURIKEN | 8% | 获得/升级手里剑 |
| TESLA | 8% | 获得/升级电磁炮 |
| MAGMA | 8% | 获得/升级熔岩弹 |
| WAVE | 4% | 获得/升级波动炮 |
| PLASMA | 2% | 获得/升级等离子炮(稀有) |
| BOMB(炸弹) | 1% | 增加1个炸弹 |
| OPTION(伴侣) | 1% | 增加1个伴侣 |

### 3.6 全局游戏参数
```
最大关卡: 10关
玩家初始属性:
  生命值: 100
  护盾值: 50
  初始炸弹: 3个
  最大炸弹: 9个
  移动速度: 7单位/帧
武器上限: 5种同时装备
武器最高等级: 9级

## 1. 核心玩法系统

### 1.1 连击系统 (ComboSystem)
- **机制**: 连续击杀敌人积累连击数，5秒内未击杀则清零
- **奖励阶梯**:
  - 10连击: 伤害×1.2, 得分×1.5
  - 25连击: 伤害×1.5, 得分×2.0
  - 50连击: 伤害×2.0, 得分×3.0
  - 100连击: 狂暴模式(伤害×3.0, 得分×5.0)
- **视觉反馈**: 连击数字显示、进度条、倍率显示及颜色变化

### 1.2 武器组合技系统 (WeaponSynergySystem)
- **机制**: 装备特定武器组合时激活协同效应
- **组合技类型**:
  - LASER + TESLA: 电磁折射 - 激光命中15%触发连锁闪电
  - WAVE + PLASMA: 能量共鸣 - WAVE穿过爆炸区伤害+50%
  - MISSILE + VULCAN: 弹幕覆盖 - 目标同时被命中时MISSILE伤害+30%
  - MAGMA + SHURIKEN: 熔火飞刃 - 反弹时附加灼烧效果
  - TESLA + PLASMA: 等离子风暴 - 爆炸范围内额外触发3道闪电

### 1.3 环境机制系统 (EnvironmentSystem)
- **机制**: 特定关卡引入环境元素增加战术深度
- **环境类型**:
  - 第3关: 障碍物 - 屏幕中部2-3个可摧毁障碍,阻挡双方子弹
  - 第5关: 能量风暴 - 每20秒出现能量带,进入减速30%
  - 第7关: 陨石雨 - 随机降落陨石,20伤害但可击碎获分
  - 第9关: 重力场 - 左右交替重力场,玩家被拉向一侧

### 1.4 Boss阶段系统 (BossPhaseSystem)
- **机制**: Boss根据血量进入不同战斗阶段，属性倍率随之变化
- **阶段设计**:
  - DESTROYER: 三阶段战 (×1.0 → ×1.3 → ×1.5)
  - TITAN: 三阶段战 (×1.0 → ×1.5 → ×2.0射速)
  - APOCALYPSE: 四阶段战 (×1.0 → ×1.3 → ×1.6 → ×2.0)

---

## 2. P3实验性功能

### 2.1 动态难度系统 (DifficultySystem)
- **机制**: 根据玩家表现实时调整游戏难度
- **难度等级**:
  - EASY: 敌人生成-10%, 精英概率+10%, 道具掉落+20%, 得分+20%
  - NORMAL: 标准配置
  - HARD: 敌人生成+15%, 精英概率-5%, 敌人血量+20%, 得分-20%
- **评估维度**: 生命值百分比、平均武器等级、连击数、关卡用时

### 2.2 精英AI行为系统 (EliteAISystem)
- **机制**: 精英敌人具备专属AI行为模式
- **行为类型**:
  - TANK护卫阵型: 生成2个护卫敌人同步移动
  - FAST能量轨迹: 移动时留下轨迹点，延时发射追踪弹
  - KAMIKAZE狂暴冲刺: 血量≤30%时速度×1.5并直线冲刺
  - LASER_INTERCEPTOR快速蓄力: 激光蓄力时间减半
  - FORTRESS重力场: 每5秒发射重力场球体，影响玩家移动和子弹速度

### 2.3 Boss移动模式扩展
- **机制**: 扩展Boss移动模式库，增强战斗多样性
- **新增模式**:
  - ZIGZAG (之字形): 横向高频摆动，难以预测位置
  - RANDOM_TELEPORT (随机瞬移): 每3秒随机传送位置
  - CIRCLE (圆形轨迹): 绕中心点做椭圆运动
  - SLOW_DESCENT (缓慢下沉): 逐渐向下移动压缩玩家空间
  - ADAPTIVE (自适应追踪): 根据距离调整追踪强度

---

## 3. 数值配置

### 3.1 玩家配置
```
主角: Neon Raiden (霓虹雷电)
基础属性:
  生命值: 100
  基础最大生命值: 120
  基础最大护盾: 50 (动态上限)
  初始炸弹: 3 / 最大9个
  速度: 7 (单位/帧)
武器装备:
  初始武器: VULCAN(散弹枪)
  最高升级: 9级
  可携带数: 5种武器同时装备
```

### 3.2 武器配置总表
| 武器 | 中文名 | 基础伤害 | 伤害/级 | 射速(ms) | 射速/级 | 子弹速度 | 特性 |
|------|-------|--------|--------|---------|--------|---------|------|
| VULCAN | 散弹枪 | 8 | +3 | 100 | +2 | 15 | 扇形覆盖广 |
| LASER | 激光炮 | 8 | +3 | 120 | +0 | 25 | 穿透敌人 |
| MISSILE | 追踪导弹 | 15 | +6 | 350 | +15 | 15 | 自动追踪 |
| WAVE | 波动炮 | 20 | +6 | 400 | +20 | 12 | 宽幅穿透 |
| PLASMA | 等离子炮 | 60 | +15 | 600 | +20 | 8 | 爆炸范围伤害 |
| TESLA | 电磁炮 | 15 | +4 | 200 | +10 | 25 | 连锁攻击 |
| MAGMA | 熔岩弹 | 10 | +2 | 200 | +0 | 12 | 灼烧效果 |
| SHURIKEN | 手里剑 | 12 | +3 | 300 | +30 | 12 | 可反弹 |

### 3.3 敌人配置总表
| 敌人类型 | 中文名 | 基础血量 | 血量/级 | 基础速度 | 速度/级 | 尺寸(px) | 得分 | 射击方式 |
|---------|-------|--------|--------|---------|--------|---------|------|---------|
| NORMAL | 红色无人机 | 20 | +10 | 2.0 | +0.5 | 40×40 | 100 | 散弹 |
| FAST | 紫色飞翼 | 10 | +2 | 8.0 | +0.5 | 30×40 | 200 | 散弹 |
| TANK | 绿色重坦 | 60 | +20 | 1.0 | +0 | 60×60 | 300 | 散弹 |
| KAMIKAZE | 橙色尖刺 | 5 | +1 | 10.0 | +0.8 | 30×30 | 400 | 散弹 |
| ELITE_GUNBOAT | 蓝色炮舰 | 150 | +30 | 0.5 | +0 | 70×50 | 500 | 快速弹 |
| LASER_INTERCEPTOR | 激光拦截机 | 80 | +15 | 4.0 | +0 | 50×50 | 600 | 激光束 |
| MINE_LAYER | 布雷机 | 120 | +20 | 1.5 | +0 | 60×40 | 700 | 重型弹 |
| PULSAR | 脉冲机 | 15 | +5 | 6.0 | +0.5 | 32×32 | 250 | 快速弹 |
| FORTRESS | 堡垒机 | 200 | +40 | 0.8 | +0 | 70×70 | 800 | 散弹 |
| STALKER | 追踪机 | 30 | +10 | 5.0 | +0.5 | 36×36 | 350 | 追踪弹 |
| BARRAGE | 弹幕机 | 100 | +20 | 1.2 | +0.1 | 50×50 | 600 | 螺旋弹 |

### 3.4 Boss配置总表
| 关 | Boss名 | 中文名 | 血量(HP) | 速度 | 尺寸 | 子弹数 | 射速 | 弹幕密度/帧 | 得分 |
|----|--------|-------|--------|------|-----|-------|------|-----------|------|
| 1 | GUARDIAN | 守护者 | 1800 | 1.2 | 180 | 8 | 0.06 | 0.48 | 5000 |
| 2 | INTERCEPTOR | 拦截者 | 2400 | 2.0 | 200 | 10 | 0.08 | 0.80 | 10000 |
| 3 | DESTROYER | 毁灭者 | 3200 | 0.8 | 220 | 24 | 0.04 | 0.96 | 15000 |
| 4 | ANNIHILATOR | 歼灭者 | 4000 | 1.5 | 240 | 15 | 0.06 | 0.90 | 20000 |
| 5 | DOMINATOR | 主宰者 | 5500 | 1.3 | 260 | 18 | 0.07 | 1.26 | 25000 |
| 6 | OVERLORD | 霸主 | 7800 | 1.8 | 280 | 18 | 0.07 | 1.26 | 30000 |
| 7 | TITAN | 泰坦 | 10500 | 1.0 | 300 | 20 | 0.065 | 1.30 | 35000 |
| 8 | COLOSSUS | 巨像 | 9500 | 2.2 | 320 | 20 | 0.07 | 1.40 | 40000 |
| 9 | LEVIATHAN | 利维坦 | 12000 | 1.6 | 340 | 22 | 0.08 | 1.76 | 45000 |
| 10 | APOCALYPSE | 天启 | 16000 | 2.3 | 360 | 26 | 0.09 | 2.34 | 50000 |

### 3.5 道具掉落配置
| 道具 | 掉落率 | 说明 |
|-----|-------|------|
| POWER(力量) | 20% | 增加所有武器伤害 |
| HP(生命) | 18% | 恢复30点生命值 |
| VULCAN | 10% | 获得/升级散弹枪 |
| LASER | 10% | 获得/升级激光炮 |
| MISSILE | 10% | 获得/升级追踪导弹 |
| SHURIKEN | 8% | 获得/升级手里剑 |
| TESLA | 8% | 获得/升级电磁炮 |
| MAGMA | 8% | 获得/升级熔岩弹 |
| WAVE | 4% | 获得/升级波动炮 |
| PLASMA | 2% | 获得/升级等离子炮(稀有) |
| BOMB(炸弹) | 1% | 增加1个炸弹 |
| OPTION(伴侣) | 1% | 增加1个伴侣 |

### 3.6 全局游戏参数
```
最大关卡: 10关
玩家初始属性:
  生命值: 100
  护盾值: 50
  初始炸弹: 3个
  最大炸弹: 9个
  移动速度: 7单位/帧
武器上限: 5种同时装备
武器最高等级: 9级
```| OPTION(伴侣) | 1% | 增加1个伴侣 || BOMB(炸弹) | 1% | 增加1个炸弹 |
