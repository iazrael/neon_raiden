## 1. 基础设施搭建
- [ ] 1.1 创建World类型定义文件`game/types/world.ts`
- [ ] 1.2 实现createWorld函数
- [ ] 1.3 创建核心组件类型文件`game/components/`
- [ ] 1.4 实现实体创建工具函数createEntity
- [ ] 1.5 实现实体查询工具函数queryEntities
- [ ] 1.6 实现实体删除工具函数markEntityForDeletion
- [ ] 1.7 创建事件系统类型定义GameEvent
- [ ] 1.8 实现事件发射函数emitEvent
- [ ] 1.9 实现事件处理函数processEvents

## 2. Engine核心实现
- [ ] 2.1 创建新Engine类文件`game/engine/Engine.ts`
- [ ] 2.2 实现Engine.start方法
- [ ] 2.3 实现Engine.pause方法
- [ ] 2.4 实现Engine.resume方法
- [ ] 2.5 实现Engine.stop方法
- [ ] 2.6 实现Engine.loop方法
- [ ] 2.7 实现Engine.framePipeline方法
- [ ] 2.8 实现响应式画布监听（ResizeObserver）
- [ ] 2.9 创建快照机制buildSnapshot函数
- [ ] 2.10 验证Engine基本功能（启动、暂停、停止）

## 3. 系统迁移 - 基础系统
- [ ] 3.1 迁移InputSystem为函数式
- [ ] 3.2 迁移MovementSystem为函数式
- [ ] 3.3 迁移CollisionSystem为函数式
- [ ] 3.4 迁移CleanupSystem为函数式
- [ ] 3.5 迁移LifetimeSystem为函数式
- [ ] 3.6 迁移RenderSystem为函数式
- [ ] 3.7 验证基础系统功能（玩家移动、碰撞检测、渲染）

## 4. 系统迁移 - 游戏系统
- [ ] 4.1 迁移WeaponSystem为函数式
- [ ] 4.2 迁移EnemySystem为函数式
- [ ] 4.3 迁移BossSystem为函数式
- [ ] 4.4 迁移SpawnSystem为函数式
- [ ] 4.5 迁移AISteerSystem为函数式
- [ ] 4.6 迁移BossPhaseSystem为函数式
- [ ] 4.7 验证游戏系统功能（武器射击、敌人生成、Boss行为）

## 5. 系统迁移 - 状态系统
- [ ] 5.1 迁移BuffSystem为函数式
- [ ] 5.2 迁移LevelingSystem为函数式
- [ ] 5.3 迁移ShieldRegenSystem为函数式
- [ ] 5.4 迁移ComboSystem为函数式
- [ ] 5.5 迁移WeaponSynergySystem为函数式
- [ ] 5.6 迁移DifficultySystem为函数式
- [ ] 5.7 验证状态系统功能（Buff效果、等级升级、连击系统）

## 6. 系统迁移 - 交互系统
- [ ] 6.1 迁移PickupSystem为函数式
- [ ] 6.2 迁移DamageResolutionSystem为函数式
- [ ] 6.3 迁移LootSystem为函数式
- [ ] 6.4 验证交互系统功能（道具拾取、伤害结算、掉落系统）

## 7. 系统迁移 - 表现系统
- [ ] 7.1 迁移AudioSystem为函数式
- [ ] 7.2 迁移EffectPlayer为函数式
- [ ] 7.3 迁移CameraSystem为函数式
- [ ] 7.4 验证表现系统功能（音效播放、特效渲染、相机跟随）

## 8. 实体工厂迁移
- [ ] 8.1 创建实体工厂文件`game/factory.ts`
- [ ] 8.2 实现spawnPlayer函数
- [ ] 8.3 实现spawnEnemy函数
- [ ] 8.4 实现spawnBoss函数
- [ ] 8.5 实现spawnBullet函数
- [ ] 8.6 实现spawnPowerup函数
- [ ] 8.7 实现spawnParticle函数
- [ ] 8.8 验证实体工厂功能

## 9. 配置和蓝图集成
- [ ] 9.1 创建Blueprint类型定义
- [ ] 9.2 实现Blueprint解析逻辑
- [ ] 9.3 集成现有配置文件（weapons, enemies, bosses）
- [ ] 9.4 创建Blueprint加载函数
- [ ] 9.5 验证配置加载功能

## 10. 单元测试
- [ ] 10.1 为Engine类编写单元测试
- [ ] 10.2 为World类型编写单元测试
- [ ] 10.3 为组件类型编写单元测试
- [ ] 10.4 为工具函数编写单元测试
- [ ] 10.5 为每个系统函数编写单元测试
- [ ] 10.6 运行测试套件并修复失败测试

## 11. 集成测试
- [ ] 11.1 创建集成测试文件
- [ ] 11.2 测试完整的游戏循环
- [ ] 11.3 测试玩家控制
- [ ] 11.4 测试武器系统
- [ ] 11.5 测试敌人和Boss
- [ ] 11.6 测试道具拾取
- [ ] 11.7 测试关卡流程
- [ ] 11.8 测试存档和读档（如果支持）

## 12. 性能测试
- [ ] 12.1 创建性能测试基准
- [ ] 12.2 测试实体查询性能
- [ ] 12.3 测试组件添加/删除性能
- [ ] 12.4 测试事件系统性能
- [ ] 12.5 测试碰撞检测性能
- [ ] 12.6 测试渲染性能
- [ ] 12.7 优化性能瓶颈
- [ ] 12.8 验证60FPS目标（桌面端和移动端）

## 13. React集成层适配
- [ ] 13.1 创建Engine适配层文件
- [ ] 13.2 适配React组件的Engine API调用
- [ ] 13.3 适配快照订阅机制
- [ ] 13.4 更新游戏控制组件
- [ ] 13.5 更新UI渲染组件
- [ ] 13.6 测试React集成功能

## 14. 性能优化
- [ ] 14.1 实现对象池模式（子弹、粒子）
- [ ] 14.2 实现空间划分优化（碰撞检测）
- [ ] 14.3 优化实体查询（索引、缓存）
- [ ] 14.4 优化事件系统（批量处理）
- [ ] 14.5 优化渲染（批量绘制、离屏渲染）
- [ ] 14.6 验证优化效果

## 15. 文档更新
- [ ] 15.1 更新README.md（架构说明）
- [ ] 15.2 更新项目文档（game/目录结构）
- [ ] 15.3 编写ECS架构设计文档
- [ ] 15.4 编写组件系统文档
- [ ] 15.5 编写系统开发指南
- [ ] 15.6 更新代码注释

## 16. 代码清理
- [ ] 16.1 备份旧GameEngine代码
- [ ] 16.2 删除旧系统类代码
- [ ] 16.3 删除旧EntityManager代码
- [ ] 16.4 删除旧EventBus代码（已集成到World）
- [ ] 16.5 删除不再使用的文件
- [ ] 16.6 整理导入导出
- [ ] 16.7 代码格式化

## 17. 代码审查和修复
- [ ] 17.1 执行TypeScript类型检查
- [ ] 17.2 执行ESLint检查
- [ ] 17.3 运行完整测试套件
- [ ] 17.4 修复类型错误
- [ ] 17.5 修复Lint警告
- [ ] 17.6 代码审查
- [ ] 17.7 修复审查问题

## 18. 验证和发布
- [ ] 18.1 手动测试所有游戏功能
- [ ] 18.2 测试所有武器类型
- [ ] 18.3 测试所有敌人类型
- [ ] 18.4 测试所有Boss战
- [ ] 18.5 测试所有关卡
- [ ] 18.6 性能验证（60FPS）
- [ ] 18.7 打tag标记版本
- [ ] 18.8 准备发布说明
